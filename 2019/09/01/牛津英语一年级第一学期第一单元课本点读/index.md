
牛津英语一年级第一学期第一单元课本点读

<!--more-->

<audio controls preload id="audio" style="width: 100%">
  <source src="/media/oxford-english-g1s1u1.mp3" type="audio/mpeg">
</audio>
<div style="width: 100%; margin-top: 10px; padding-bottom: 10px; text-align: justify; text-align-last: justify;">
  <input id="decreaseRate" type="button" class="button button-primary button-pill button-small" value="-" onClick = "decreaseRate()">
  <input id="normalRate" type="button" class="button button-primary button-pill button-small" value="1" onClick = "normalRate()">
  <input id="increaseRate" type="button" class="button button-primary button-pill button-small" value="+" onClick = "increaseRate()">
  <input id="playStart" type="button" class="button button-primary button-pill button-small" value="|<" onClick = "playStart()">
  <input id="playPauseResume" type="button" class="button button-primary button-pill button-small" value="☐" onClick = "playPauseResume()">
  <input id="gotoPrevPage" type="button" class="button button-primary button-pill button-small" value="&lt;" onClick = "gotoPrevPage()">
  <input id="gotoNextPage" type="button" class="button button-primary button-pill button-small" value="&gt;" onClick = "gotoNextPage()">
</div>

<div style="width: 100%; margin-top: 10px; padding-bottom: 10px;"></div>

<img id="image" class="no-photoswipe" src="/image/oxford-english-g1s1p-02.jpg" width="2240" height="3060" usemap="#Map">

<secton>
  <map id="Map" name="Map">
  <area shape="rect" coords="651,117,1624,251" href="javascript:playRange(0.0, 10.0)" />
  <area shape="rect" coords="372,338,801,442" href="javascript:playRange(0.0, 10.0)" />
  <area shape="rect" coords="244,528,1090,797" href="javascript:playRange(0.0, 10.0)" />
  <area shape="rect" coords="1270,540,2076,781" href="javascript:playRange(0.0, 10.0)" />
  <area shape="rect" coords="213,1748,1017,2003" href="javascript:playRange(0.0, 10.0)" />
  <area shape="rect" coords="1265,1762,2068,2051" href="javascript:playRange(0.0, 10.0)" />
  </map>
  <map id="Map00" name="Map00">
  <area shape="rect" coords="651,117,1624,251" href="javascript:playRange(0.0, 10.0)" />
  <area shape="rect" coords="372,338,801,442" href="javascript:playRange(0.0, 10.0)" />
  <area shape="rect" coords="244,528,1090,797" href="javascript:playRange(0.0, 10.0)" />
  <area shape="rect" coords="1270,540,2076,781" href="javascript:playRange(0.0, 10.0)" />
  <area shape="rect" coords="213,1748,1017,2003" href="javascript:playRange(0.0, 10.0)" />
  <area shape="rect" coords="1265,1762,2068,2051" href="javascript:playRange(0.0, 10.0)" />
  </map>
  <map id="Map01" name="Map01">
  <area shape="rect" coords="1959,2775,2273,3072" href="javascript:playRange(0.0, 10.0)" />
  <area shape="rect" coords="259,290,836,467" href="javascript:playRange(0.0, 10.0)" />
  <area shape="rect" coords="862,992,1660,1292" href="javascript:playRange(0.0, 10.0)" />
  <area shape="rect" coords="860,1355,1724,1585" href="javascript:playRange(0.0, 10.0)" />
  <area shape="rect" coords="1339,1596,2093,1837" href="javascript:playRange(0.0, 10.0)" />
  <area shape="rect" coords="251,2277,1108,2593" href="javascript:playRange(0.0, 10.0)" />
  </map>
  <map id="Map02" name="Map02">
  <area shape="circle" coords="472,1664,343" href="javascript:playRange(0.0, 10.0)" />
  <area shape="circle" coords="1179,1412,343" href="javascript:playRange(0.0, 10.0)" />
  <area shape="circle" coords="1804,1766,343" href="javascript:playRange(0.0, 10.0)" />
  <area shape="circle" coords="1797,1016,343" href="javascript:playRange(0.0, 10.0)" />
  <area shape="rect" coords="-8,2817,325,3288" href="javascript:playRange(0.0, 10.0)" />
  <area shape="rect" coords="332,312,883,446" href="javascript:playRange(0.0, 10.0)" />
  <area shape="circle" coords="1148,706,343" href="javascript:playRange(0.0, 10.0)" />
  <area shape="circle" coords="489,923,343" href="javascript:playRange(0.0, 10.0)" />
  </map>
  <map id="Map03" name="Map03">
  <area shape="rect" coords="1960,2796,2566,3236" href="javascript:playRange(0.0, 10.0)" />
  <area shape="rect" coords="314,228,814,396" href="javascript:playRange(0.0, 10.0)" />
  <area shape="rect" coords="190,526,866,764" href="javascript:playRange(0.0, 10.0)" />
  <area shape="rect" coords="196,790,870,1034" href="javascript:playRange(0.0, 10.0)" />
  <area shape="rect" coords="1448,1472,2160,1688" href="javascript:playRange(0.0, 10.0)" />
  <area shape="rect" coords="1454,1702,2160,1940" href="javascript:playRange(0.0, 10.0)" />
  <area shape="rect" coords="1026,442,2114,1226" href="javascript:playRange(0.0, 10.0)" />
  <area shape="rect" coords="198,1258,1370,2104" href="javascript:playRange(0.0, 10.0)" />
  </map>
  <map id="Map04" name="Map04">
  <area shape="rect" coords="-8,2814,288,3178" href="javascript:playRange(0.0, 10.0)" />
  <area shape="rect" coords="316,298,862,490" href="javascript:playRange(0.0, 10.0)" />
  <area shape="rect" coords="1404,884,1784,1018" href="javascript:playRange(0.0, 10.0)" />
  <area shape="rect" coords="1096,1058,2184,1338" href="javascript:playRange(0.0, 10.0)" />
  <area shape="rect" coords="1102,1390,2176,1680" href="javascript:playRange(0.0, 10.0)" />
  <area shape="rect" coords="136,1716,924,2792" href="javascript:playRange(0.0, 10.0)" />
  <area shape="rect" coords="1060,1848,1994,2802" href="javascript:playRange(0.0, 10.0)" />
  </map>
</section>

<script type="text/javascript">

String.prototype.format = function(args) {
  var str = this;
  return str.replace(String.prototype.format.regex, function(item) {
    var intVal = parseInt(item.substring(1, item.length - 1));
    var replace;
    if (intVal >= 0) {
      replace = args[intVal];
    } else if (intVal === -1) {
      replace = "{";
    } else if (intVal === -2) {
      replace = "}";
    } else {
      replace = "";
    }
    return replace;
  });
};

String.prototype.format.regex = new RegExp("{-?[0-9]+}", "g");

String.prototype.padZero = function(len, c) {
  var s = '',
    c = c || '0',
    len = (len || 2) - this.length;
  while (s.length < len) s += c;
  return s + this;
}

Number.prototype.padZero = function(len, c) {
  return String(this).padZero(len, c);
}

function changeImageAndMap( ownerImageId, ownerMapId, newImageSource, newMapId)
{
  var ownerImage = document.getElementById("image");
  var ownerMap = document.getElementById("Map");
  var newMap = document.getElementById(newMapId);
  ownerImage.src = newImageSource;
  ownerMap.innerHTML = newMap.innerHTML;
}

function changeImageAndMapByIndex(imageIndex){
  changeImageAndMap("image00", "Map00", imageArray[imageIndex].src, imageArray[imageIndex].map_id ) ;
  $("img[usemap]").rwdImageMaps();
}

function gotoPrevPage(argument) {
  if ( imageIndex > 0 )
    --imageIndex;
  else
    imageIndex = imageCount - 1;
  playPause();
  changeImageAndMapByIndex(imageIndex);
}

function gotoNextPage(argument) {
  if ( imageIndex < imageCount - 1 )
    ++imageIndex;
  else
    imageIndex = 0;
  playPause();
  changeImageAndMapByIndex(imageIndex);
}

function gotoFirstPage(argument) {
  imageIndex = 0;
  playPause();
  changeImageAndMapByIndex(imageIndex);
}

function normalRate(argument) {
  audioRate = 1.0;
  audio = document.getElementById('audio');
  audio.playbackRate = audioRate;
}

function increaseRate(argument) {
  if ( audioRate < 1.4 )
  {
    audioRate += 0.1;
    audio = document.getElementById('audio');
    audio.playbackRate = audioRate;
  }
}

function decreaseRate(argument) {
  if ( audioRate > 0.6 )
  {
    audioRate -= 0.1;
    audio = document.getElementById('audio');
    audio.playbackRate = audioRate;
  }
}

function playStart(argument) {
  gotoFirstPage();
  audio = document.getElementById('audio');
  audio.src = audioSource;
  audio.playbackRate = audioRate;
  audio.play();
}

function playPause(argument) {
  audio = document.getElementById('audio');
  audio.pause();
}

function playPauseResume(argument) {
  audio = document.getElementById('audio');
  button = document.getElementById('playPauseResume');
  if ( audio.paused)
  {
    audio.play();
    button.value = "☐";
  }
  else
  {
    audio.pause();
    button.value = ">>";
  }
}

function playRange(start, end) {
  audio = document.getElementById('audio');
  audio.src = audioSource + '#t=' + start + ',' + end;
  audio.playbackRate = audioRate;
  audio.play();
}

var audioSource = '/media/oxford-english-g1s1u1.mp3';
var audioRate = 1.0;

var imageIndex = 0;
var imageCount = 5;
var imageSourceIndex = 2;
var imageSourceUrl = "/image/oxford-english-g1s1p-{0}.jpg";
var imageWidth = 2240;
var imageHeight = 3060;

var imageArray = new Array();
for ( var i=0; i<imageCount; i++ )
{
  imageArray[i] = new Image();
  imageArray[i].id = "image{0}".format([i.padZero(2)]);
  imageArray[i].src = imageSourceUrl.format([(imageSourceIndex+i).padZero(2)]);
  imageArray[i].width = imageWidth;
  imageArray[i].height = imageHeight;
  imageArray[i].map_id = "Map{0}".format([i.padZero(2)]);
  imageArray[i].usemap = "#Map{0}".format([i.padZero(2)]);
  if ( i != 0 )
    imageArray[i].class = "hide";
}

</script>